<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SCREENY Manager</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<!-- Pixelated background canvas -->
	<canvas id="pixel-background"></canvas>

	<div class="container">
		<!-- Landing Page -->
		<section id="landing-page" class="landing-page">
			<div class="landing-content">
				<h1 class="pixel-title">SCREENY Manager</h1>
				<p class="landing-subtitle">Manage events and schedules for your RGB matrix displays</p>
				
				<div class="emulator-wrapper landing-emulator">
					<div id="matrix-container" class="matrix-container"></div>
				</div>

				<div class="landing-buttons">
					<button class="btn-pixel btn-primary" onclick="showApp()">Get Started</button>
					<button class="btn-pixel btn-secondary" onclick="scrollToAbout()">Learn More</button>
				</div>
			</div>

			<div class="about-section" id="about-section">
				<h2 class="pixel-subtitle">What is SCREENY?</h2>
				<p>A web-based manager for your RGB matrix displays. Create events, manage schedules, and see real-time previews of how they'll look on your 64√ó32 LED matrix.</p>
				
				<div class="features">
					<div class="feature-card">
						<canvas class="feature-icon-canvas" id="calendar-icon" width="48" height="48"></canvas>
						<h3>Events</h3>
						<p>Add and manage ephemeral events with custom text, colors, and icons</p>
					</div>
					<div class="feature-card">
						<canvas class="feature-icon-canvas" id="clock-icon" width="48" height="48"></canvas>
						<h3>Schedules</h3>
						<p>Create daily schedules with time-based activities and progress bars</p>
					</div>
					<div class="feature-card">
						<canvas class="feature-icon-canvas" id="eye-icon" width="48" height="48"></canvas>
						<h3>Live Preview</h3>
						<p>See exactly how your content will appear on the RGB matrix display</p>
					</div>
				</div>

				<button class="btn-pixel btn-primary" onclick="showApp()">Start Managing</button>
			</div>
		</section>

		<!-- Main App (hidden initially) -->
		<div id="main-app" class="main-app hidden">
			<header>
				<h1 class="pixel-title">üé® SCREENY Manager</h1>
				<p>Manage events and schedules for your RGB matrix displays</p>
			</header>

			<nav class="tabs">
				<button class="tab active" data-tab="preview">Preview</button>
				<button class="tab" data-tab="events">Events</button>
				<button class="tab" data-tab="settings">Settings</button>
			</nav>

			<!-- Preview Tab -->
			<section id="preview-tab" class="tab-content active">
				<h2>RGB Matrix Preview</h2>
				
				<div class="emulator-wrapper">
					<div id="matrix-container-preview" class="matrix-container"></div>
				</div>

				<div class="preview-form">
					<h3>Test Event Display</h3>
					
					<div class="form-group">
						<label for="preview-top">Top Line (max 12 chars)</label>
						<input type="text" id="preview-top" maxlength="12" placeholder="Top line text">
						<span class="char-count" id="top-count">0/12</span>
					</div>

					<div class="form-group">
						<label for="preview-bottom">Bottom Line (max 12 chars)</label>
						<input type="text" id="preview-bottom" maxlength="12" placeholder="Bottom line text">
						<span class="char-count" id="bottom-count">0/12</span>
					</div>

					<div class="form-group">
						<label for="preview-color">Color</label>
						<select id="preview-color">
							<option value="MINT" selected>Mint</option>
							<option value="BUGAMBILIA">Bugambilia</option>
							<option value="LILAC">Lilac</option>
							<option value="RED">Red</option>
							<option value="GREEN">Green</option>
							<option value="BLUE">Blue</option>
							<option value="ORANGE">Orange</option>
							<option value="YELLOW">Yellow</option>
							<option value="PURPLE">Purple</option>
							<option value="PINK">Pink</option>
							<option value="WHITE">White</option>
						</select>
						<div class="color-preview" id="color-preview"></div>
					</div>

					<div class="form-group">
						<label for="preview-icon">Icon</label>
						<select id="preview-icon">
							<option value="halloween">Halloween üéÉ</option>
							<option value="heart">Heart ‚ù§Ô∏è</option>
							<option value="star">Star ‚≠ê</option>
							<option value="sun">Sun ‚òÄÔ∏è</option>
							<option value="cloud">Cloud ‚òÅÔ∏è</option>
						</select>
					</div>

					<button class="btn-pixel btn-primary" onclick="updatePreview()">Update Preview</button>
					<button class="btn-pixel btn-secondary" onclick="clearPreview()">Clear</button>
				</div>
			</section>

			<!-- Events Tab -->
			<section id="events-tab" class="tab-content">
				<h2>Manage Events</h2>
				
				<!-- Add New Event Section -->
				<div class="event-editor">
					<h3>Add New Event</h3>
					
					<div class="event-form-container">
						<div class="event-form">
							<div class="form-group">
								<label for="event-date">Date *</label>
								<input type="date" id="event-date" required>
							</div>

							<div class="form-group">
								<label for="event-top">Top Line (max 12 chars) *</label>
								<input type="text" id="event-top" maxlength="12" placeholder="Top line text" required>
								<span class="char-count" id="event-top-count">0/12</span>
							</div>

							<div class="form-group">
								<label for="event-bottom">Bottom Line (max 12 chars) *</label>
								<input type="text" id="event-bottom" maxlength="12" placeholder="Bottom line text" required>
								<span class="char-count" id="event-bottom-count">0/12</span>
							</div>

							<div class="form-group">
								<label for="event-image">Image *</label>
								<select id="event-image" required>
									<option value="">Select an image...</option>
								</select>
							</div>

							<div class="form-group">
								<label for="event-color">Color *</label>
								<select id="event-color" required>
									<option value="MINT">Mint</option>
									<option value="BUGAMBILIA">Bugambilia</option>
									<option value="LILAC">Lilac</option>
									<option value="RED">Red</option>
									<option value="GREEN">Green</option>
									<option value="BLUE">Blue</option>
									<option value="ORANGE">Orange</option>
									<option value="YELLOW">Yellow</option>
									<option value="PURPLE">Purple</option>
									<option value="PINK">Pink</option>
									<option value="AQUA">Aqua</option>
									<option value="WHITE">White</option>
								</select>
								<div class="color-preview" id="event-color-preview"></div>
							</div>

							<div class="form-group">
								<label>
									<input type="checkbox" id="event-has-time">
									Specific Time Window (optional)
								</label>
							</div>

							<div id="event-time-fields" class="time-fields hidden">
								<div class="form-group">
									<label for="event-start-hour">Start Hour (0-23)</label>
									<input type="number" id="event-start-hour" min="0" max="23" placeholder="0">
								</div>

								<div class="form-group">
									<label for="event-end-hour">End Hour (0-23)</label>
									<input type="number" id="event-end-hour" min="0" max="23" placeholder="23">
								</div>
							</div>

							<div class="form-actions">
								<button type="button" class="btn-pixel btn-primary" onclick="addEvent()">Add Event</button>
								<button type="button" class="btn-pixel btn-secondary" onclick="clearEventForm()">Clear</button>
							</div>
						</div>

						<div class="event-preview-container">
							<h4>Preview</h4>
							<div class="emulator-wrapper event-emulator">
								<div id="matrix-container-event" class="matrix-container"></div>
							</div>
							<p class="preview-hint">This is how your event will appear on the display</p>
						</div>
					</div>
				</div>

				<!-- Event List Section -->
				<div class="event-list-section">
					<div class="event-list-header">
						<h3>Current Events</h3>
						<div class="list-actions">
							<button class="btn-pixel btn-secondary" onclick="loadEvents()">üîÑ Refresh</button>
							<button class="btn-pixel btn-secondary" onclick="clearPastEvents()">üóëÔ∏è Clear Past Events</button>
						</div>
					</div>

					<div id="events-loading" class="loading-message hidden">
						Loading events from GitHub...
					</div>

					<div id="events-error" class="error-message hidden"></div>

					<div id="events-empty" class="empty-message hidden">
						No events found. Add your first event above!
					</div>

					<div id="events-list" class="events-list"></div>
				</div>

				<!-- Edit Event Modal -->
				<div id="edit-event-modal" class="modal hidden">
					<div class="modal-content">
						<div class="modal-header">
							<h3>Edit Event</h3>
							<button class="modal-close" onclick="closeEditModal()">‚úï</button>
						</div>

						<div class="modal-body">
							<div class="event-form-container">
								<div class="event-form">
									<input type="hidden" id="edit-event-index">

									<div class="form-group">
										<label for="edit-event-date">Date *</label>
										<input type="date" id="edit-event-date" required>
									</div>

									<div class="form-group">
										<label for="edit-event-top">Top Line (max 12 chars) *</label>
										<input type="text" id="edit-event-top" maxlength="12" required>
										<span class="char-count" id="edit-event-top-count">0/12</span>
									</div>

									<div class="form-group">
										<label for="edit-event-bottom">Bottom Line (max 12 chars) *</label>
										<input type="text" id="edit-event-bottom" maxlength="12" required>
										<span class="char-count" id="edit-event-bottom-count">0/12</span>
									</div>

									<div class="form-group">
										<label for="edit-event-image">Image *</label>
										<select id="edit-event-image" required>
											<option value="">Select an image...</option>
										</select>
									</div>

									<div class="form-group">
										<label for="edit-event-color">Color *</label>
										<select id="edit-event-color" required></select>
										<div class="color-preview" id="edit-event-color-preview"></div>
									</div>

									<div class="form-group">
										<label>
											<input type="checkbox" id="edit-event-has-time">
											Specific Time Window (optional)
										</label>
									</div>

									<div id="edit-event-time-fields" class="time-fields hidden">
										<div class="form-group">
											<label for="edit-event-start-hour">Start Hour (0-23)</label>
											<input type="number" id="edit-event-start-hour" min="0" max="23">
										</div>

										<div class="form-group">
											<label for="edit-event-end-hour">End Hour (0-23)</label>
											<input type="number" id="edit-event-end-hour" min="0" max="23">
										</div>
									</div>

									<div class="form-actions">
										<button type="button" class="btn-pixel btn-primary" onclick="saveEditedEvent()">Save Changes</button>
										<button type="button" class="btn-pixel btn-secondary" onclick="closeEditModal()">Cancel</button>
									</div>
								</div>

								<div class="event-preview-container">
									<h4>Preview</h4>
									<div class="emulator-wrapper event-emulator">
										<div id="matrix-container-edit" class="matrix-container"></div>
									</div>
									<p class="preview-hint">This is how your event will appear on the display</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- Settings Tab -->
			<section id="settings-tab" class="tab-content">
				<h2>Settings</h2>
				<form id="settings-form">
					<div class="form-group">
						<label for="github-token">GitHub Personal Access Token</label>
						<input type="password" id="github-token" placeholder="ghp_...">
						<small>Create at: GitHub ‚Üí Settings ‚Üí Developer settings ‚Üí Personal access tokens ‚Üí Fine-grained tokens</small>
					</div>

					<div class="form-group">
						<label for="github-owner">Repository Owner</label>
						<input type="text" id="github-owner" placeholder="your-username">
					</div>

					<div class="form-group">
						<label for="github-repo">Repository Name</label>
						<input type="text" id="github-repo" placeholder="screeny-data">
					</div>

					<button type="submit" class="btn-pixel btn-primary">Save Settings</button>
				</form>
			</section>
		</div>

		<div id="status" class="status hidden"></div>
	</div>

	<script src="matrix-emulator.js"></script>
	<script src="fonts.js"></script>
	<script src="app.js"></script>
</body>
</html>
